#include <stdio.h>

void binario(int resultado){
  int resto, x, array[100], i=0,z=resultado;
  
  while(resultado != 0){
    resto = resultado%2;
    x = resultado/2;
    array[i] = resto;
    if(resto != 0){
      resultado = resultado-x-resto;
    } else{
      resultado = resultado-x;
    }
    i++;
  }
  if (z < 4) {
    for (int j = 0; j < 4 - z; j++) {
        printf("0");
    }
  }
  for(int j=i;j>0;j--){
    printf("%d",array[j-1]);
  }
}

void complementoa2(int resultado){
  int sinal = resultado;
  int resto, x, array[16], i=0;
  while(resultado != 0){
    resto = resultado%2;
    x = resultado/2;
    array[i] = resto;
    if(resto != 0){
      resultado = resultado-x-resto;
    } else{
      resultado = resultado-x;
    }
    i++;
  }
  i=15;
  int array2[16];
  for(int j=0;j<i;j++){
    if(array[j] == 0){
      array2[j] = 1;
    }
    else{
      array2[j] = 0;
    }
  }  
  for(int j=0;j<i;j++){
    if (array2[j] == 0) {
      array2[j] = 1;
      break;
    } else {
      array2[j] = 0;
    }
  }
  if(sinal<0){
    array2[i] = 1;
  }
  for(int j=i;j>=0;j--){
    printf("%d",array2[j]);
  }
}

void base8(int resultado){
  int resto, x, array[100], i=0;
  while(resultado != 0){
    resto = resultado % 8;
    resultado = resultado / 8;
    array[i] = resto;
    i++;
  }  
  for(int j=i;j>0;j--){
    printf("%d",array[j-1]);
  }
}

void base16(int resultado){
  int resto, x, array[100], i=0;
  while(resultado != 0){
    resto = resultado % 16;
    resultado = resultado / 16;
    array[i] = resto;
    i++;
  }  
  for(int j=i;j>0;j--){
    printf("%d",array[j-1]);
  }
}

void bcd(int resultado){
  int resto, x, array[100],i=0;
  while(resultado != 0){
    resto = resultado % 10;
    resultado = resultado / 10;
    array[i] = resto;
    i++;
  } 
  for(int j = i-1; j>=0; j--){
    binario(array[j]);
    printf(" ");
  }
}








int main(void) {
  int x;
  printf("digite 1 para converter um decimal;\n");
  printf("digite 2 para converter de decimal para base com sinal com 16 bits;\n");
  printf("digite 3 para converter real em decimal para float e double,;\n");
  
  scanf("%d", &x);
  if(x==1){
    int escolha;
    printf("Digite 1 para binario; \n");
    printf("Digite 2 para octa; \n");
    printf("Digite 3 para hexa; \n");
    printf("Digite 4 para BCD; \n");
    scanf("%d", &escolha);
    
    int nDecimal;
    printf("Digite o numero para ser convertido; ");
    scanf("%d", &nDecimal);
    
    if(escolha == 1){
      binario(nDecimal);
    } else if(escolha == 2){
      base8(nDecimal);
    } else if(escolha == 3){
      base16(nDecimal);
    } else if(escolha == 4){
      bcd(nDecimal);
    }
  }
  if(x==2){
    int nDecimal;
    printf("Digite o numero para ser convertido; ");
    scanf("%d", &nDecimal);
    complementoa2(nDecimal);
  }
}
